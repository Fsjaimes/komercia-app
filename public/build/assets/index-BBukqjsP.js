import{d as i,C as o,a as d,h as s,F as a,T as u}from"./app-CZiKNRBg.js";const c={headerToolbar:!0,footerToolbar:!0,events:!0,eventSources:!0,resources:!0},f=i({props:{options:Object},data(){return{renderId:0,customRenderingMap:new Map}},methods:{getApi(){return this.calendar},buildOptions(e){return{...e,customRenderingMetaMap:h(this.$slots),handleCustomRendering:this.handleCustomRendering}}},render(){const e=[];for(const t of this.customRenderingMap.values())e.push(s(p,{key:t.id,customRendering:t}));return s("div",{attrs:{"data-fc-render-id":this.renderId}},s(a,e))},mounted(){const e=new o;this.handleCustomRendering=e.handle.bind(e);const t=this.buildOptions(this.options),n=new d(this.$el,t);this.calendar=n,n.render(),e.subscribe(r=>{this.customRenderingMap=r,this.renderId++,this.needCustomRenderingResize=!0})},beforeUpdate(){this.getApi().resumeRendering()},updated(){this.needCustomRenderingResize&&(this.needCustomRenderingResize=!1,this.getApi().updateSize())},beforeUnmount(){this.getApi().destroy()},watch:l()}),p=i({props:{customRendering:Object},render(){const e=this.customRendering,t=typeof e.generatorMeta=="function"?e.generatorMeta(e.renderProps):e.generatorMeta;return s(u,{to:e.containerEl},t)}});function l(){let e={options:{deep:!0,handler(t){let n=this.getApi();n.pauseRendering();let r=this.buildOptions(t);n.resetOptions(r),this.renderId++}}};for(let t in c)e[`options.${t}`]={deep:!0,handler(n){if(n!==void 0){let r=this.getApi();r.pauseRendering(),r.resetOptions({[t]:n},[t]),this.renderId++}}};return e}function h(e){const t={};for(const n in e)t[g(n)]=e[n];return t}function g(e){return e.split("-").map((t,n)=>n?m(t):t).join("")}function m(e){return e.charAt(0).toUpperCase()+e.slice(1)}export{f as default};
